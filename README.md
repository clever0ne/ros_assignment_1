## Лабораторная работа №1

Для создания рабочего пространства `catkin_ws` на своей рабочей станции:
1) Перейдите в домашний каталог.
```
cd
```
2) С помощью команды `mkdir` создайте желаемое количество подкаталогов. В простейшем случае путь до рабочего пространства `<CATKIN_WS_PATH>` может иметь вид `~/catkin_ws`.
```
mkdir catkin_ws
```
3) Перейдите в созданный подкатолог `<CATKIN_WS_PATH>` и создайте рабочее пространство с помощью команды `catkin create`.
```
cd ~/<CATKIN_WS_PATH>
catkin create
```

Для развёртывания и запуска проекта на своей рабочей станции:
1) Склонируйте репозиторий в ваше рабочее пространство `catkin_ws`.
```
cd ~/<CATKIN_WS_PATH>/src
git clone https://github.com/clever0ne/ros_assignment_1
```
2) Осуществите сборку проекта.
```
cd ..
catkin build
```
3) Укажите путь до файла `setup.bash`.
```
source <CATKIN_WS_PATH>/devel/setup.bash
```
4) _В новом терминале_ запустите ядро операционной системы ROS.
```
roscore
```
5) _В "старом" терминале_ запустите интересующий вас узел с помощью `*.launch`-файла.
```
roslaunch <ROS_PKG> <ROS_NODE>.launch
```
6) Откройте _ещё один терминал_ и обратитесь к сервису запущенного узла.
```
rosservice call /<ROS_NODE>/<ROS_SERVICE> <ARGUMENTS>
```

### Вариант 1. Расчёт определителя матрицы

Реализован узел для вычисления определителя квадратной матрицы 3×3 и проверки его на чётность/нечётность. Узел принимает на вход девять знаковых целых чисел `int32`. Вычисляет определитель в виде числа с плавающей точкой одинарной точности `float32` и возвращает его. Определитель преобразуется к знаковому целому числу и проверяется на чётность, результат проверки печатается в терминале узла.

_Примечание: Для того чтобы передать в запросе отрицательные числа, необходимо поставить `--` перед аргументами запроса._

**Пример запроса:**

> _Запрос клиента к серверу:_
> ```
> rosservice call /matrix_determinant/calculate -- 5 -4 13 16 25 -17 18 -52 -2
> ```
> _Ответ сервера клиенту:_
> ```
> -20240.0
> ```
> _Сообщение в топик:_
> ```
> -20240.0
> ```
> _Обработка сообщения из топика:_
> ```
> even
> ```

### Вариант 2. Вычисление корней квадратного уравнения

Реализован узел для вычисления корней квадратного уравнения вида _ax_^2 + _bx_ + _c_ = 0. Узел принимает на вход три числа с плавающей точкой одинарной точности `float32`. Вычисляет значения корней квадратного уравнения, в том числе для случаев комплексных корней (отрицательный дискриминант) и линейного уравнения (_a_ = 0), возвращает только вещественные корни в виде массива чисел с плавающей точкой одинарной точности `float32[]`. Анализируется количество вещественных корней — два, один или ни одного — и печатается в терминале узла.

_Примечание: Для того чтобы передать в запросе отрицательные числа, необходимо поставить `--` перед аргументами запроса._

**Пример запроса:**

> _Запрос клиента к серверу:_
> ```
> rosservice call /quadratic_equation/solve 1.0 8.0 3.0
> ```
> _Ответ сервера клиенту:_
> ```
> [-7.605551242828369, -0.39444875717163086]
> ```
> _Сообщение в топик:_
> ```
> [-7.605551242828369, -0.39444875717163086]
> ```
> _Результат обработки сообщения из топика:_
> ```
> "x1 = -0.39, x2 = -7.61"
> ```

### Вариант 3. Стеклянный мост

Реализован узел для имитации одноименной игры из одного _известного переоценённого сериала_. Узел принимает на вход строку `string` длиной в один символ — `l` или `r`. Символ является выбором "игрока" при движении по стеклянному мосту: левая или правая плитка. Если "игрок" угадал и выбрал плитку из закалённого стекла, он продолжает движение, иначе "умирает", а узел прекращает работу. При полном прохождении маршрута узел также прекращает работу. Стеклянный мост генерируется заново при каждом запуске узла на основе равномерного распределения. В случае, если игрок не "умер", его запрос прибавляется к уже пройденному маршруту в виде строки `string` и печатается в терминале узла.

**Примеры запросов для последовательности `lrrlrrlllrrlrlrlrr`:**


> _Запрос клиента к серверу:_
> ```
> rosservice call /squid_game/glass_bridge/step l
> ```
> _Ответ сервера клиенту:_
> ```
> move next
> ```
> _Сообщение в топик:_
> ```
> l
> ```
> _Результат обработки сообщения из топика:_
> ```
> lrrl
> ```

> _Запрос клиента к серверу:_
> ```
> rosservice call /squid_game/glass_bridge/step l
> ```
> _Ответ сервера клиенту:_
> ```
> dead
> ```
> _Сообщение в топик:_
> ```
> 
> ```
> _Результат обработки сообщения из топика:_
> ```
> 
> ```

### Вариант 4. Рулетка

Реализован узел для игры в европейскую рулетку (с одним полем _зеро_). Узел принимает на вход цвет (красный, чёрный или зелёный) в формате `string` и число от 0 до 36 в формате знакового целого числа `int32`. Полученные комбинации цвета и числа проходят верификацию, а затем с помощью генератора псевдослучайных чисел (ГПСЧ) генерируется числа в диапазоне от 0 до 36 по закону равномерного распределения. Число сравнивается со ставкой "игрока", и на основе совпадения или несовпадения делается вывод о его выигрыше или проигрыше, а результат отправляется в виде строки `string`. Также на основе анализа этого результата в терминал узла выводится поздравление или подбадривающее высказывание.

**Примеры запросов`:**

> _Запрос клиента к серверу:_
> ```
> rosservice call /casino_roulette/spin black 13
> ```
> _Ответ сервера клиенту:_
> ```
> lose
> ```
> _Сообщение в топик:_
> ```
> lose
> ```
> _Результат обработки сообщения из топика:_
> ```
> "Don't be upset, next time you will definitely win!"
> ```

> _Запрос клиента к серверу:_
> ```
> rosservice call /casino_roulette/spin green 0
> ```
> _Ответ сервера клиенту:_
> ```
> win
> ```
> _Сообщение в топик:_
> ```
> win
> ```
> _Результат обработки сообщения из топика:_
> ```
> Congratulations!
> ```

### Вариант 5. Динозаврогенератор

---

У меня кончилось вдохновение, и этот узел я не написал.

---

### Вариант 6. Решение СЛАУ

Реализован узел для решения системы линейных алгебраических уравнений второго порядка. Узел принимает на вход шесть чисел — коэффициенты матрицы системы и вектор-столбца свободных членов — в виде числе с плавающей точкой одинарной точности `float32`. Вычисляется вектор неизвестных величин либо делается вывод о вырожденности системы при обращении определителя матрицы в ноль, результат возвращается возвращается в виде массива числе с плавающей точкой одинарной точности `float32[]`: из двух элементов в первом случае и пустой — во втором. Результат также печатается в терминале узла.

_Примечание: Для того чтобы передать в запросе отрицательные числа, необходимо поставить `--` перед аргументами запроса._

**Примеры запросов:**

> _Запрос клиента к серверу:_
> ```
> rosservice call /linear_equation_system/solve 4.0 6.0 9.0 5.0 1.0 18.0
> ```
> _Ответ сервера клиенту:_
> ```
> [3.807692289352417, -1.038461685180664]
> ```
> _Сообщение в топик:_
> ```
> [3.807692289352417, -1.038461685180664]
> ```
> _Результат обработки сообщения из топика:_
> ```
> x = 3.81, y = -1.04
> ```

> _Запрос клиента к серверу:_
> ```
> rosservice call /linear_equation_system/solve 1.0 9.0 9.0 1.0 9.0 5.0
> ```
> _Ответ сервера клиенту:_
> ```
> []
> ```
> _Сообщение в топик:_
> ```
> []
> ```
> _Результат обработки сообщения из топика:_
> ```
> no roots
> ```
